//- Authors: Shefqet Zyko, Irshaad Sardiwalla
//- Grp1 Team 2
//- Date: 22 Mar 2021

//- Description: registration form for new users
doctype html
head
  // Required meta tags
  meta(charset='utf-8')
  meta(name='viewport' content='width=device-width, initial-scale=1, shrink-to-fit=no')
  // Bootstrap CSS
  link(rel='stylesheet' href='https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css' integrity='sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l' crossorigin='anonymous')
  title Register
  style.
    body {
    background-image: url("images/pexels-photo-132037_sunset.jpeg");
    background-size: cover;
    background-color: #c2a8ea;
    padding: 3.5rem; }
// Navbar search is present but not function
nav.navbar.navbar-expand-md.navbar-light.fixed-top(style='background-color: #e3f2fd;')
    a.navbar-brand(href='/') Travel Experts
    button.navbar-toggler(type='button' data-toggle='collapse' data-target='#navbarsExampleDefault' aria-controls='navbarsExampleDefault' aria-expanded='false' aria-label='Toggle navigation')
      span.navbar-toggler-icon
    #navbarsExampleDefault.collapse.navbar-collapse
      ul.navbar-nav.mr-auto
        li.nav-item.active
          a.nav-link(href='../destinations.html') Destinations
        li.nav-item.active
          a.nav-link(href='/packages') Packages
        li.nav-item.active
          a.nav-link(href='/viewbookings') Bookings
        li.nav-item.active
          a.nav-link(href='/blogs/all') Blogs
        li.nav-item.active
          a.nav-link(href='/blogs') Create Blog
        li.nav-item.active
          a.nav-link(href='/register')
            | Register 
            span.sr-only (current)
        li.nav-item
          a.nav-link(href='/contacts') Contact Us

.container
      if errors    
        each error in errors
            p.alert.alert-danger= error
// Main form with onfocus functionality that displays description of the input field below the input box.
.row
  .col-md-3
  .col-md-6
    .card.mb-3(style='background: rgba(253, 160, 101,0.5)')
      .card-body
        h2.card-title We'd love to have you as a client!
        form(method='POST' action='/register')
          .form-row
            .form-group.col-md-6
              label(for='inputEmail4') Username(E-mail)
              input#inputEmail4.form-control(type='email' name='userid' placeholder='someone@something.com' aria-describedby='emailHelp' required='')
              small#emailHelp.form-text(style='display:none') Please enter your e-mail.
            .form-group.col-md-6
              label(for='inputPassword4') Password
              input#inputPassword4.form-control(type='password' name='passwd' placeholder='xxxxxxxx' aria-describedby='passwordHelp' required='' pattern='(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}')
              small#passwordHelp.form-text(style='display:none')
                | Your password should be 8 characters and must include at least one number, one uppercase letter and one lowercase character.
          .form-row
            .form-group.col-md-6
              label(for='firstName') First name
              input#firstName.form-control(type='text' name='CustFirstName' placeholder='John' aria-describedby='firstNameHelp' required='')
              small#firstNameHelp.form-text(style='display:none') Please enter your first name.
            .form-group.col-md-6
              label(for='lastName') Last name
              input#lastName.form-control(type='text' name='CustLastName' placeholder='Smith' aria-describedby='lastNameHelp' required='')
              small#lastNameHelp.form-text(style='display:none') Please enter your last name.
          .form-group
            label(for='inputAddress') Address
            input#inputAddress.form-control(type='text' name='CustAddress' placeholder='1234 Main St' aria-describedby='inputAddressHelp')
            small#inputAddressHelp.form-text(style='display:none') Please enter your address.
          .form-group
            label(for='inputAddress2') Country
            input#inputAddress2.form-control(type='text' name='CustCountry' placeholder='Country' aria-describedby='inputAddressHelp2')
            small#inputAddressHelp2.form-text(style='display:none') Please enter your country.
          .form-row
            .form-group.col-md-6
              label(for='inputCity') City
              input#inputCity.form-control(type='text' name='CustCity' placeholder='Calgary' aria-describedby='cityHelp')
              small#cityHelp.form-text(style='display:none') Please enter your city.
            .form-group.col-md-4
              label(for='inputState') Province
              select#inputState.form-control(name='CustProv')
                option(selected='') Choose...
                option AB
                option BC
                option ON
                option MB
                option NS
                option SK
            // Postal code must comply with regular expression
            .form-group.col-md-2
              label(for='inputZip') Postal Code
              input#inputZip.form-control(type='text' name='CustPostal' pattern='^[A-Za-z]\\d[A-Za-z]-\\d[A-Za-z]\\d$' placeholder='A1A-1A1' aria-describedby='zipHelp')
              small#zipHelp.form-text(style='display:none') Please enter your postal code.
          // Telephone number must comply with regular expression
          .form-row
            .form-group.col-md-6
              label(for='phone') Phone number:
              input#phone.form-control(type='tel' name='CustHomePhone' pattern='[0-9]{3}-[0-9]{3}-[0-9]{4}' placeholder='403-455-4444' aria-describedby='telHelp')
              small#telHelp.form-text(style='display:none') Please enter your phone number.
          // Submit and Reset button prompts user for confirmation before proceeding
          button.btn.btn-light(type='submit' onclick='return confirmation()') Submit
          button.btn.btn-light(type='reset' onclick='return confirmation()' style='margin:5px') Reset
  .col-md-3

// script base on course example to display text for an onfocus event
script(src='javascripts/register.js')
script.
  mypageLoad()
// Optional JavaScript; choose one of the two!
// Option 1: jQuery and Bootstrap Bundle (includes Popper)
script(src='https://code.jquery.com/jquery-3.5.1.slim.min.js' integrity='sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj' crossorigin='anonymous')
script(src='https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js' integrity='sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns' crossorigin='anonymous')
script.
        var urlParams = new URLSearchParams(window.location.search);
        if(urlParams.has('headermessage'))
        document.getElementById('headermessage').innerText=document.getElementById('headermessage').innerText=
        urlParams.get('headermessage');
// Option 2: Separate Popper and Bootstrap JS
//
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" integrity="sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF" crossorigin="anonymous"></script>
